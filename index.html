<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>EventBinder by google</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">EventBinder</h1>
        <p class="header">Making EventBus easy</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/google/gwteventbinder/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/google/gwteventbinder/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/google/gwteventbinder">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/google">google</a></p>


      </header>
      <section>
        <h2>
<a name="what-is-eventbinder" class="anchor" href="#what-is-eventbinder"><span class="octicon octicon-link"></span></a>What is EventBinder?</h2>

<p>GWT's EventBus is great - it allows you to write maintainable GWT applications
by decoupling the components of your application, making them easy to add,
modify, or remove. However, using EventBus in GWT can require a lot of 
boilerplate in the form of implementing events, defining handler interfaces for
them, and implementing those interfaces all over your code in anonymous classes.
EventBinder automates away these boring details using a strategy similar to the
<code>@UiHandler</code> annotation defined by UiBinder.</p>

<h2>
<a name="how-do-i-use-it" class="anchor" href="#how-do-i-use-it"><span class="octicon octicon-link"></span></a>How do I use it?</h2>

<p>Easy - just define your event, register handler methods for it, and then fire 
it.</p>

<h3>
<a name="defining-events" class="anchor" href="#defining-events"><span class="octicon octicon-link"></span></a>Defining events</h3>

<p>With EventBinder, events are just immutable value types extending 
<code>GenericEvent</code>. If your event doesn't have any arguments, defining it
only takes one line:</p>

<div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">SaveClickedEvent</span> <span class="kd">extends</span> <span class="n">GenericEvent</span> <span class="o">{}</span>
</pre></div>

<p>To create an event with arguments, just create a normal Java value type:</p>

<div class="highlight"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">EmailLoadedEvent</span> <span class="kd">extends</span> <span class="n">GenericEvent</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">subject</span><span class="o">;</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">body</span><span class="o">;</span>

  <span class="kd">public</span> <span class="nf">EmailLoadedEvent</span><span class="o">(</span><span class="n">String</span> <span class="n">subject</span><span class="o">,</span> <span class="n">String</span> <span class="n">body</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">subject</span> <span class="o">=</span> <span class="n">subject</span><span class="o">;</span>
    <span class="k">this</span><span class="o">.</span><span class="na">body</span> <span class="o">=</span> <span class="n">body</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">getSubject</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">subject</span><span class="o">;</span> <span class="o">}</span>
  <span class="kd">public</span> <span class="n">String</span> <span class="nf">getBody</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="n">body</span><span class="o">;</span> <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>That's it - no need to implement <code>getAssociatedType</code> or <code>dispatch</code> from
<code>GwtEvent</code> or to define handler interfaces.</p>

<h3>
<a name="registering-event-handlers" class="anchor" href="#registering-event-handlers"><span class="octicon octicon-link"></span></a>Registering event handlers</h3>

<p>Event handlers are methods annotated with the <code>@EventHandler</code> annotation. It
works the same way as <code>@UiHandler</code> - the name of the method is ignored, and
the argument to the method is checked to determine what type of event to
handle. In order to get this to work, you must also define an <code>EventBinder</code> 
interface and invoke <code>bindEventHandlers</code> on it in the same way you would for a 
<code>UiBinder</code>. Here's an example:</p>

<div class="highlight"><pre><span class="kd">class</span> <span class="nc">EmailPresenter</span> <span class="o">{</span>
  <span class="kd">interface</span> <span class="nc">MyEventBinder</span> <span class="kd">extends</span> <span class="n">EventBinder</span><span class="o">&lt;</span><span class="n">EmailPresenter</span><span class="o">&gt;</span> <span class="o">{}</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="n">MyEventBinder</span> <span class="n">eventBinder</span> <span class="o">=</span> <span class="n">GWT</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">MyEventBinder</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

  <span class="n">EmailPresenter</span><span class="o">(</span><span class="n">EventBus</span> <span class="n">eventBus</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">eventBinder</span><span class="o">.</span><span class="na">bindEventHandlers</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">eventBus</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@EventHandler</span>
  <span class="kt">void</span> <span class="nf">onEmailLoaded</span><span class="o">(</span><span class="n">EmailLoadedEvent</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">view</span><span class="o">.</span><span class="na">setSubject</span><span class="o">(</span><span class="n">email</span><span class="o">.</span><span class="na">getSubject</span><span class="o">());</span>
    <span class="n">view</span><span class="o">.</span><span class="na">setBody</span><span class="o">(</span><span class="n">email</span><span class="o">.</span><span class="na">getBody</span><span class="o">());</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>After <code>bindEventHandlers</code> is called, <code>onEmailLoaded</code> will be invoked whenever an
<code>EmailLoadedEvent</code> is fired on the given event bus.</p>

<h3>
<a name="firing-events" class="anchor" href="#firing-events"><span class="octicon octicon-link"></span></a>Firing events</h3>

<p>The last step is easy and doesn't require anything special from EventBinder -
just construct an event and fire it on the event bus:</p>

<div class="highlight"><pre><span class="n">eventBus</span><span class="o">.</span><span class="na">fireEvent</span><span class="o">(</span><span class="k">new</span> <span class="n">EmailLoadedEvent</span><span class="o">(</span><span class="s">"Hello world!"</span><span class="o">,</span> <span class="s">"How are you?"</span><span class="o">));</span>
</pre></div>

<p>Firing this event will cause all <code>@EventHandler</code>s for <code>EmailLoadedEvent</code> in the
application to be invoked in an undefined order. That's it, you're done!</p>

<h2>
<a name="how-do-i-install-it" class="anchor" href="#how-do-i-install-it"><span class="octicon octicon-link"></span></a>How do I install it?</h2>

<p>If you're using Maven, you can add the following to your <code>&lt;dependencies&gt;</code>
section:</p>

<div class="highlight"><pre>    <span class="nt">&lt;dependency&gt;</span>
      <span class="nt">&lt;groupId&gt;</span>com.google.gwt.eventbinder<span class="nt">&lt;/groupId&gt;</span>
      <span class="nt">&lt;artifactId&gt;</span>eventbinder<span class="nt">&lt;/artifactId&gt;</span>
      <span class="nt">&lt;version&gt;</span>1.0.0<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
</pre></div>

<p>You can also download the <a href="http://search.maven.org/remotecontent?filepath=com/google/gwt/eventbinder/eventbinder/1.0.0/eventbinder-1.0.0.jar">jar</a> directly or check out the source using git
from <a href="https://github.com/google/eventbinder.git">https://github.com/google/eventbinder.git</a> and build it yourself. Once
you've installed EventBinder, be sure to inherit the module in your .gwt.xml
file like this:</p>

<div class="highlight"><pre>    <span class="nt">&lt;inherits</span> <span class="na">name=</span><span class="s">'com.google.web.bindery.event.EventBinder'</span><span class="nt">/&gt;</span>
</pre></div>

<h2>
<a name="where-can-i-learn-more" class="anchor" href="#where-can-i-learn-more"><span class="octicon octicon-link"></span></a>Where can I learn more?</h2>

<ul>
<li>For more details on the EventBinder API, consult the <a href="http://google.github.io/gwteventbinder/javadoc/">Javadoc</a>.</li>
<li>Check out the <a href="https://github.com/google/gwteventbinder/tree/master/eventbinder-sample/src/main/java/sample/client">sample app</a> for a full example of using EventBinder.</li>
<li>For general advice on architecting GWT applications, see <a href="http://www.youtube.com/watch?v=PDuhR18-EdM">this video</a>
and <a href="https://developers.google.com/web-toolkit/articles/mvp-architecture">this document</a>
</li>
</ul>
      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		          <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-40907096-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>